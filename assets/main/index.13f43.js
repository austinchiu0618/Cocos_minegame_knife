window.__require=function t(e,n,r){function o(a,c){if(!n[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var f="function"==typeof __require&&__require;if(!c&&f)return f(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var h=n[a]={exports:{}};e[a][0].call(h.exports,function(t){return o(e[a][1][t]||t)},h,h.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<r.length;a++)o(r[a]);return o}({game:[function(t,e){"use strict";function n(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=r(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}cc._RF.push(e,"4df1cIy+LdJuIuN4iK303Hu","game"),cc.Class({extends:cc.Component,properties:{targetNode:cc.Node,knifeNode:cc.Node,knifePrefab:cc.Prefab},onLoad:function(){var t=this;this.canThrow=!0,this.targetNode.zIndex=1,this.targetRotation=3,this.knifeNodeArr=[],this.getPoint=0,setInterval(function(){t.changeSpeed()},2e3),this.node.on("touchstart",this.throwKnife,this)},onDestroy:function(){this.node.off("touchstart",this.throwKnife,this)},changeSpeed:function(){var t=Math.random()>.5?1:-1,e=1+4*Math.random();this.targetRotation=t*e},throwKnife:function(){var t=this;this.canThrow&&(this.canThrow=!1,this.knifeNode.runAction(cc.sequence(cc.moveTo(.15,cc.v2(this.knifeNode.x,this.targetNode.y-this.targetNode.width/2)),cc.callFunc(function(){for(var e,r=!1,o=n(t.knifeNodeArr);!(e=o()).done;){var i=e.value;if(Math.abs(i.angle)<15||Math.abs(360-i.angle)<15){r=!0;break}}if(r)t.knifeNode.runAction(cc.sequence(cc.spawn(cc.moveTo(.25,cc.v2(t.knifeNode.x,-cc.winSize.height)),cc.rotateTo(.25,30)),cc.callFunc(function(){cc.director.loadScene("game")})));else{t.getPoint++,console.log(t.getPoint);var a=cc.instantiate(t.knifePrefab);a.setPosition(t.knifeNode.position),t.node.addChild(a),t.knifeNode.setPosition(cc.v2(0,-300)),t.knifeNodeArr.push(a),t.canThrow=!0}}))))},update:function(){this.targetNode.angle=(this.targetNode.angle+this.targetRotation)%360;for(var t,e=n(this.knifeNodeArr);!(t=e()).done;){var r=t.value;r.angle=(r.angle+this.targetRotation)%360;var o=Math.PI*(r.angle-90)/180,i=this.targetNode.width/2;r.x=this.targetNode.x+i*Math.cos(o),r.y=this.targetNode.y+i*Math.sin(o)}}}),cc._RF.pop()},{}]},{},["game"]);